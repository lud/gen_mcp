# System Configuration


## Global Configuration

This section covers global configuration for the `gen_mcp` application. These
settings apply to the library as a whole, not to specific servers.

The only global configuration option currently supported is `:node_id`.

### Node Identifiers

The node identifier identifies a node in a way that can be public. Each node
retains the node ID of other nodes in the cluster and can relay MCP messages
that arrive to a different node than where a session is living.

It is also the prefix for MCP session identifiers, for instance:
`H3LO-UDkCEEmqpvMGMTsYjvjirdg8` where `H3LO` is the node identifier.

By default, GenMCP will generate a random node when the `:gen_mcp` application
is started.

You can override this mechanism and use deterministic identifiers for your
nodes. A valid node ID is a non-empty string using only alphanumeric characters
and underscores.

```elixir
config :gen_mcp, :node_id, "H3LO"
```

> #### Node IDs must be unique {: .warning}
>
> All your nodes must have a different node ID. The random system will make
> multiple attempts in the rare case of duplicate node IDs.

You can also explicitly require the random pick by configuring it this way:

```elixir
config :gen_mcp, :node_id, :random
```

This configuration can be set from `config/runtime.exs` to use environment
variable but once the node is initialized, the identifier cannot be changed at
runtime. `Application.put_env(:gen_mcp, :node_id, "newId")` will have no effect.


## Logging

GenMCP uses [telemetry](https://hex.pm/packages/telemetry) for logging. It does
not log anything by default to avoid polluting your logs.

To enable the default logger, you can call `GenMCP.attach_default_logger/0` in
your application start callback:

```elixir
def start(_type, _args) do
  GenMCP.attach_default_logger()
  # ...
end
```

See `GenMCP.attach_default_logger/1` for configuration options (filtering by level or prefix).

For a list of all telemetry events emitted by the library, see `GenMCP.TelemetryLogger`.
